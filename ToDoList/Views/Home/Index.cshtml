@model List<TaskGroup>
@{
    List<TaskGroup> groups = Model;

    ViewData["Title"] = "Home Page";
}

<a type="button"
   asp-area=""
   asp-controller="Home"
   asp-action="CreateTaskGroup"
   class="btn btn-primary">
    Create New
</a>
<hr />
<table id="taskGroups" 
       class="table table-striped table-bordered table-hover" 
       style="width:100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Count</th>
            <th />
            <th />
        </tr>
    </thead>
    <tbody>
        @foreach (var group in groups)
        {
            <tr>
                <td>@group.Name</td>
                <td>@(group.UserTasks != null ? group.UserTasks.Count : 0)</td>
                <td style="align-content:end">
                    <a type="button"
                       asp-area=""
                       asp-controller="Home"
                       asp-action="TaskGroupEditor"
                       asp-route-id="@group.Id"
                       class="btn btn-primary">
                        Edit
                    </a>
                </td>
                <td>
                    <a type="button"
                       asp-area=""
                       sp-controller="Home"
                       asp-action="RemoveTaskGroup"
                       asp-route-id="@group.Id"
                       class="btn btn-primary">
                        Remove
                    </a>
                </td>
            </tr>
        }
    <tfoot>
        <tr>
        <tr>
            <th>Name</th>
            <th>Count</th>
            <th />
            <th />
        </tr>
    </tfoot>
</table>


@section Scripts{
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#taskGroups').DataTable()
        });
    </script>
}